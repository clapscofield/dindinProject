{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/clarissescofield/Desktop/2022.1/ES II/projeto-pratico/dindinProject/front/src/features/landingUsuario/views/EditarGastoGanho.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Form, Input, FormGroup, InputGroup, InputGroupAddon, InputGroupText, Modal, Alert } from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport Datetime from \"react-datetime\";\nimport InserirGastoGanhoManager from \"features/inserirGastoGanho/InserirGastoGanhoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport moment from \"moment\";\n\nconst EditarModal = props => {\n  _s();\n\n  const {\n    message,\n    setMessageRedux,\n    modalAberto,\n    setModalAberto,\n    dadosTransacao,\n    setDadosTransacao\n  } = props;\n  const [valorFocus, setValorFocus] = useState(false);\n  const [descricaoFocus, setDescricaoFocus] = useState(false);\n  const [categoriaFocus, setCategoriaFocus] = useState(false); //const [dataFocus, setDataFocus] = useState(false);\n\n  const [loading, setLoading] = useState(false);\n  const [sucesso, setSucesso] = useState(false);\n  const [alertaAberto, setAlertaAberto] = useState(false);\n  useEffect(() => {\n    setAlertaAberto(message && message.message);\n  }, [message]);\n\n  const handleSalvarAlteracoes = async () => {\n    let mensagem = \"\";\n    setLoading(true);\n\n    if (dadosTransacao) {\n      const edicao = {\n        id: dadosTransacao.id,\n        data: moment(dadosTransacao.data).format(\"DD/MM/YYYY\"),\n        categoria: dadosTransacao.categoria,\n        valor: dadosTransacao.valor,\n        descricao: dadosTransacao.descricao,\n        usuario: dadosTransacao.usuario,\n        tipo: dadosTransacao.tipo\n      };\n      console.log(edicao);\n      await InserirGastoGanhoManager.editarEntrada(edicao).then(async response => {\n        console.log(\"sucesso\");\n        setSucesso(true);\n        mensagem = response && response.status;\n      }, async error => {\n        console.log(\"erro\");\n        const erro = error.response && error.response.data && error.response.data.status || error.status || error.toString();\n        console.log(erro);\n        setSucesso(false);\n        mensagem = erro;\n      });\n      await setMessageRedux(mensagem);\n    }\n\n    setLoading(false);\n    setModalAberto(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    modalClassName: \"modal-black\",\n    isOpen: modalAberto,\n    toggle: () => setModalAberto(false),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-header justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close\",\n        onClick: () => setModalAberto(false),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"tim-icons icon-simple-remove text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-muted text-center ml-auto mr-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mb-0\",\n          children: \"Editar transa\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-muted mb-4 mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Edite os campos desejados:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        role: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            className: classnames(\"input-group-alternative\", {\n              \"input-group-focus\": valorFocus\n            }),\n            children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n              addonType: \"prepend\",\n              children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"tim-icons icon-badge\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Valor\",\n              type: \"text\",\n              value: dadosTransacao && dadosTransacao.valor,\n              onChange: e => {\n                setDadosTransacao({ ...dadosTransacao,\n                  valor: e.target.value\n                });\n              },\n              onFocus: e => setValorFocus(true),\n              onBlur: e => setValorFocus(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n            className: classnames(\"input-group-alternative\", {\n              \"input-group-focus\": descricaoFocus\n            }),\n            children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n              addonType: \"prepend\",\n              children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"tim-icons icon-key-25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Descri\\xE7\\xE3o\",\n              type: \"text\",\n              value: dadosTransacao && dadosTransacao.descricao,\n              onChange: e => setDadosTransacao({ ...dadosTransacao,\n                descricao: e.target.value\n              }),\n              onFocus: e => setDescricaoFocus(true),\n              onBlur: e => setDescricaoFocus(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              className: classnames(\"input-group-alternative\", {\n                \"input-group-focus\": categoriaFocus\n              }),\n              children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                addonType: \"prepend\",\n                children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"tim-icons icon-badge\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Categoria\",\n                type: \"text\",\n                value: dadosTransacao && dadosTransacao.categoria,\n                onChange: e => setDadosTransacao({ ...dadosTransacao,\n                  categoria: e.target.value\n                }),\n                onFocus: e => setCategoriaFocus(true),\n                onBlur: e => setCategoriaFocus(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              className: classnames(\"input-group-alternative\"),\n              children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                addonType: \"prepend\",\n                children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"tim-icons icon-badge\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Datetime, {\n                value: dadosTransacao && moment(dadosTransacao.data).format(\"DD/MM/YYYY\"),\n                timeFormat: false,\n                inputProps: {\n                  placeholder: \"Data\"\n                },\n                dateFormat: \"DD/MM/YYYY\",\n                onChange: e => setDadosTransacao({ ...dadosTransacao,\n                  data: e\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"my-4\",\n            color: \"primary\",\n            type: \"button\",\n            disabled: loading,\n            onClick: () => handleSalvarAlteracoes(),\n            children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner-border spinner-border-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 27\n            }, this), \"Salvar altera\\xE7\\xF5es\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), message && sucesso && /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"success\",\n          isOpen: alertaAberto,\n          toggle: () => setAlertaAberto(false),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditarModal, \"OigI4OmyUzaHl54uBYYx1zb36zo=\");\n\n_c = EditarModal;\n\nfunction mapStateToProps(state) {\n  const {\n    message\n  } = state.message;\n  return {\n    message\n  };\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setMessageRedux: message => dispatch(setMessage(message))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditarModal);\n\nvar _c;\n\n$RefreshReg$(_c, \"EditarModal\");","map":{"version":3,"sources":["/Users/clarissescofield/Desktop/2022.1/ES II/projeto-pratico/dindinProject/front/src/features/landingUsuario/views/EditarGastoGanho.jsx"],"names":["React","useState","useEffect","Button","Form","Input","FormGroup","InputGroup","InputGroupAddon","InputGroupText","Modal","Alert","classnames","connect","Datetime","InserirGastoGanhoManager","setMessage","moment","EditarModal","props","message","setMessageRedux","modalAberto","setModalAberto","dadosTransacao","setDadosTransacao","valorFocus","setValorFocus","descricaoFocus","setDescricaoFocus","categoriaFocus","setCategoriaFocus","loading","setLoading","sucesso","setSucesso","alertaAberto","setAlertaAberto","handleSalvarAlteracoes","mensagem","edicao","id","data","format","categoria","valor","descricao","usuario","tipo","console","log","editarEntrada","then","response","status","error","erro","toString","e","target","value","placeholder","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Form, Input, FormGroup, InputGroup, InputGroupAddon, InputGroupText, Modal, Alert } from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport Datetime from \"react-datetime\";\nimport InserirGastoGanhoManager from \"features/inserirGastoGanho/InserirGastoGanhoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport moment from \"moment\";\n\nconst EditarModal = (props) => {\n  const { message, setMessageRedux, modalAberto, setModalAberto, dadosTransacao, setDadosTransacao } = props;\n\n  const [valorFocus, setValorFocus] = useState(false);\n  const [descricaoFocus, setDescricaoFocus] = useState(false);\n  const [categoriaFocus, setCategoriaFocus] = useState(false);\n  //const [dataFocus, setDataFocus] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [sucesso, setSucesso] = useState(false);\n  const [alertaAberto, setAlertaAberto] = useState(false);\n\n  useEffect(() => {\n    setAlertaAberto(message && message.message);\n  }, [message]);\n\n  const handleSalvarAlteracoes = async () => {\n    let mensagem = \"\";\n    setLoading(true);\n\n    if (dadosTransacao) {\n      const edicao = {\n        id: dadosTransacao.id,\n        data: moment(dadosTransacao.data).format(\"DD/MM/YYYY\"),\n        categoria: dadosTransacao.categoria,\n        valor: dadosTransacao.valor,\n        descricao: dadosTransacao.descricao,\n        usuario: dadosTransacao.usuario,\n        tipo: dadosTransacao.tipo\n      };\n\n      console.log(edicao);\n\n      await InserirGastoGanhoManager.editarEntrada(edicao).then(\n        async (response) => {\n          console.log(\"sucesso\");\n          setSucesso(true);\n          mensagem = response && response.status;\n        },\n        async (error) => {\n          console.log(\"erro\");\n          const erro =\n            (error.response && error.response.data && error.response.data.status) || error.status || error.toString();\n          console.log(erro);\n          setSucesso(false);\n          mensagem = erro;\n        }\n      );\n      await setMessageRedux(mensagem);\n    }\n\n    setLoading(false);\n    setModalAberto(false);\n  };\n\n  return (\n    <Modal modalClassName=\"modal-black\" isOpen={modalAberto} toggle={() => setModalAberto(false)}>\n      <div className=\"modal-header justify-content-center\">\n        <button className=\"close\" onClick={() => setModalAberto(false)}>\n          <i className=\"tim-icons icon-simple-remove text-white\" />\n        </button>\n        <div className=\"text-muted text-center ml-auto mr-auto\">\n          <h3 className=\"mb-0\">Editar transação</h3>\n        </div>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center text-muted mb-4 mt-3\">\n          <small>Edite os campos desejados:</small>\n        </div>\n        <Form role=\"form\">\n          <FormGroup className=\"mb-3\">\n            <InputGroup\n              className={classnames(\"input-group-alternative\", {\n                \"input-group-focus\": valorFocus\n              })}\n            >\n              <InputGroupAddon addonType=\"prepend\">\n                <InputGroupText>\n                  <i className=\"tim-icons icon-badge\" />\n                </InputGroupText>\n              </InputGroupAddon>\n              <Input\n                placeholder=\"Valor\"\n                type=\"text\"\n                value={dadosTransacao && dadosTransacao.valor}\n                onChange={(e) => {\n                  setDadosTransacao({\n                    ...dadosTransacao,\n                    valor: e.target.value\n                  });\n                }}\n                onFocus={(e) => setValorFocus(true)}\n                onBlur={(e) => setValorFocus(false)}\n              />\n            </InputGroup>\n          </FormGroup>\n          <FormGroup>\n            <InputGroup\n              className={classnames(\"input-group-alternative\", {\n                \"input-group-focus\": descricaoFocus\n              })}\n            >\n              <InputGroupAddon addonType=\"prepend\">\n                <InputGroupText>\n                  <i className=\"tim-icons icon-key-25\" />\n                </InputGroupText>\n              </InputGroupAddon>\n              <Input\n                placeholder=\"Descrição\"\n                type=\"text\"\n                value={dadosTransacao && dadosTransacao.descricao}\n                onChange={(e) =>\n                  setDadosTransacao({\n                    ...dadosTransacao,\n                    descricao: e.target.value\n                  })\n                }\n                onFocus={(e) => setDescricaoFocus(true)}\n                onBlur={(e) => setDescricaoFocus(false)}\n              />\n            </InputGroup>\n            <FormGroup className=\"mb-3\">\n              <InputGroup\n                className={classnames(\"input-group-alternative\", {\n                  \"input-group-focus\": categoriaFocus\n                })}\n              >\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <i className=\"tim-icons icon-badge\" />\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  placeholder=\"Categoria\"\n                  type=\"text\"\n                  value={dadosTransacao && dadosTransacao.categoria}\n                  onChange={(e) =>\n                    setDadosTransacao({\n                      ...dadosTransacao,\n                      categoria: e.target.value\n                    })\n                  }\n                  onFocus={(e) => setCategoriaFocus(true)}\n                  onBlur={(e) => setCategoriaFocus(false)}\n                />\n              </InputGroup>\n            </FormGroup>\n            <FormGroup className=\"mb-3\">\n              <InputGroup className={classnames(\"input-group-alternative\")}>\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <i className=\"tim-icons icon-badge\" />\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Datetime\n                  value={dadosTransacao && moment(dadosTransacao.data).format(\"DD/MM/YYYY\")}\n                  timeFormat={false}\n                  inputProps={{ placeholder: \"Data\" }}\n                  dateFormat={\"DD/MM/YYYY\"}\n                  onChange={(e) =>\n                    setDadosTransacao({\n                      ...dadosTransacao,\n                      data: e\n                    })\n                  }\n                />\n              </InputGroup>\n            </FormGroup>\n          </FormGroup>\n          <div className=\"text-center\">\n            <Button\n              className=\"my-4\"\n              color=\"primary\"\n              type=\"button\"\n              disabled={loading}\n              onClick={() => handleSalvarAlteracoes()}\n            >\n              {loading && <span className=\"spinner-border spinner-border-sm\"></span>}\n              Salvar alterações\n            </Button>\n          </div>\n          {message && sucesso && (\n            <Alert color={\"success\"} isOpen={alertaAberto} toggle={() => setAlertaAberto(false)}>\n              <span>{message}</span>\n            </Alert>\n          )}\n        </Form>\n      </div>\n    </Modal>\n  );\n};\n\nfunction mapStateToProps(state) {\n  const { message } = state.message;\n  return {\n    message\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  setMessageRedux: (message) => dispatch(setMessage(message))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditarModal);\n"]},"metadata":{},"sourceType":"module"}